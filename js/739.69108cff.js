"use strict";(self["webpackChunksave_file_converter"]=self["webpackChunksave_file_converter"]||[]).push([[739],{651:function(e,t,r){r.d(t,{Z:function(){return u}});var n=function(){var e=this,t=e._self._c;return t("b-form-group",{scopedSlots:e._u([{key:"default",fn:function({ariaDescribedby:r}){return[t("b-form-radio-group",{staticClass:"radio-buttons",attrs:{options:e.options,"aria-describedby":r,buttons:"","button-variant":"outline-info"},model:{value:e.valueLocal,callback:function(t){e.valueLocal=t},expression:"valueLocal"}})]}}])})},a=[],i={name:"IndividualSavesOrMemoryCardSelector",props:{value:{type:String,default:null},individualSavesText:{type:String,default:"Individual saves"},memoryCardText:{type:String,default:"Memory card"}},model:{prop:"value",event:"change"},computed:{valueLocal:{get(){return this.value},set(e){this.$emit("change",e)}}},data(){return{options:[{value:"individual-saves",text:this.individualSavesText},{value:"memory-card",text:this.memoryCardText}]}}},c=i,o=r(1001),s=(0,o.Z)(c,n,a,!1,null,"725c0d84",null),u=s.exports},8250:function(e,t,r){r.d(t,{default:function(){return a}});var n=r(6318);class a{}(0,n.Z)(a,"NUM_RESERVED_BLOCKS",1),(0,n.Z)(a,"NUM_DATA_BLOCKS",15),(0,n.Z)(a,"NUM_TOTAL_BLOCKS",a.NUM_RESERVED_BLOCKS+a.NUM_DATA_BLOCKS),(0,n.Z)(a,"BLOCK_SIZE",8192),(0,n.Z)(a,"FRAME_SIZE",128),(0,n.Z)(a,"TOTAL_SIZE",a.NUM_TOTAL_BLOCKS*a.BLOCK_SIZE),(0,n.Z)(a,"LITTLE_ENDIAN",!0),(0,n.Z)(a,"MAGIC_ENCODING","US-ASCII")},0:function(e,t,r){r.d(t,{Z:function(){return N}});var n=r(6318),a=(r(3767),r(8585),r(8696),r(7658),r(8250)),i=r(146);const{LITTLE_ENDIAN:c,BLOCK_SIZE:o,NUM_DATA_BLOCKS:s,NUM_TOTAL_BLOCKS:u,FRAME_SIZE:l,MAGIC_ENCODING:f}=a["default"],d="MC",h=0,A=0,y=8,B=65535,w=10,D=20,_="US-ASCII",S=4,g=160,E=81,Z=82,p=83,m=255;function C(e,t){const r=l+t*l;return e.slice(r,r+l)}function U(e){const t=new Uint8Array(e);return t.reduce(((e,t)=>e^t),0)}function L(){return i.Z.getFilledArrayBuffer(l,0)}function v(){const e=i.Z.setMagic(L(),h,d,f),t=new DataView(e);return t.setUint8(l-1,U(e)),e}function b(){const e=L(),t=new DataView(e);return t.setUint8(A,g),t.setUint16(y,B,c),t.setUint8(l-1,U(e)),e}function T(){const e=L(),t=new DataView(e);return t.setUint8(A+0,m),t.setUint8(A+1,m),t.setUint8(A+2,m),t.setUint8(A+3,m),t.setUint16(y,B,c),e}function F(e,t){return t.encode(e).slice(0,D)}function I(e){const t=e.charAt(0);if("B"===t){const t=e.charAt(1);if("I"===t)return"Japan";if("A"===t)return"North America";if("E"===t)return"Europe"}return"Unknown region"}function O(e,t,r){const n=e.rawData.byteLength/o;let a=!1,i=0;n>=2&&(a=!0,i=n-2);const s=[];let u=t;{const t=L(),a=new Uint8Array(t),i=new DataView(t),o=F(e.filename,r);i.setUint8(A,E),i.setUint32(S,e.rawData.byteLength,c),i.setUint16(y,n>1?u+1:B,c),a.set(o,w),i.setUint8(l-1,U(t)),s.push(t)}for(let o=0;o<i;o+=1){u+=1;const e=L(),t=new DataView(e);t.setUint8(A,Z),t.setUint16(y,u+1,c),t.setUint8(l-1,U(e)),s.push(e)}if(a){const e=L(),t=new DataView(e);t.setUint8(A,p),t.setUint16(y,B,c),t.setUint8(l-1,U(e)),s.push(e)}return s}class N{static getDirectoryFrame(e,t){return C(e,t)}static encodeFilename(e,t){return F(e,t)}static createHeaderBlock(e){const t=[],r=new TextEncoder(_);t.push(v()),e.forEach((e=>{const n=O(e,t.length-1,r);t.push(...n)}));while(t.length<u)t.push(b());while(t.length<o/l)t.push(T());return i.Z.concatArrayBuffers(t)}static readDirectoryBlock(e){i.Z.checkMagic(e,h,d,f);const t=new TextDecoder(_),r=[];for(let n=0;n<s;n+=1){let a=C(e,n),o=new DataView(a);const s=o.getUint8(A);if((240&s)!==g&&s!==m&&s===E){const s=i.Z.trimNull(t.decode(a.slice(w,w+D))),u=I(s),l=o.getUint32(S,c),f=[n];let d=o.getUint16(y,c);while(d!==B)f.push(d),a=C(e,d),o=new DataView(a),d=o.getUint16(y,c);r.push({startingBlock:n,filename:s,regionName:u,dataBlockNumbers:f,rawDataSize:l})}}return r}}(0,n.Z)(N,"DIRECTORY_FRAME_AVAILABLE_OFFSET",A),(0,n.Z)(N,"DIRECTORY_FRAME_NEXT_BLOCK_OFFSET",y)},5431:function(e,t,r){r.d(t,{Z:function(){return S}});var n=r(6318),a=(r(3767),r(8585),r(8696),r(3482)),i=r.n(a),c=r(8598),o=r(146),s=r(8764)["Buffer"];const u="aes-128-ecb",l=16,f=s.from("AB5ABC9FC1F49DE6A051DBAEFA518859","hex"),d=s.alloc(0),h=s.from("B30FFEEDB7DC5EB7133DA60D1B6B2CDC","hex"),A=f.length,y="sha1",B=64,w=s.from("000102030405060708090A0B0C0D0E0F10111213","hex");function D(e,t,r){const n=new ArrayBuffer(e.byteLength),a=new Uint8Array(n),i=new Uint8Array(e),c=new Uint8Array(r);a.set(i);for(let o=0;o<l;o+=1)a[o+t]=i[o+t]^c[o];return n}function _(e,t,r){const n=new ArrayBuffer(e.byteLength),a=new Uint8Array(n),i=new Uint8Array(e);for(let c=0;c<r;c+=1)a[c]=i[c]^t;return n}class S{static calculateSignature(e,t,r,n,a){let l=new ArrayBuffer(B),w=new ArrayBuffer(A);w=o.Z.setArrayBufferPortion(w,t,0,0,A),w=c.Z.decrypt(w,u,f,d),l=o.Z.setArrayBufferPortion(l,w,0,0,A),w=o.Z.setArrayBufferPortion(w,t,0,0,A),w=c.Z.encrypt(w,u,f,d),l=o.Z.setArrayBufferPortion(l,w,A,0,A),l=D(l,0,h),w=o.Z.fillArrayBuffer(w,255),w=o.Z.setArrayBufferPortion(w,t,0,A,r-A),l=D(l,A,w),l=o.Z.fillArrayBufferPortion(l,r,B-r,0),l=_(l,54,B);const S=o.Z.fillArrayBufferPortion(e,n,a,0),g=i()(y);g.update(s.from(l)),g.update(s.from(S));const E=g.digest(),Z=i()(y);return l=_(l,106,B),Z.update(s.from(l)),Z.update(E),Z.digest()}}(0,n.Z)(S,"SALT_SEED_INIT",w)},6393:function(e,t,r){r.d(t,{Z:function(){return E}});var n=r(8250),a=r(0),i=(r(7658),r(146));const{BLOCK_SIZE:c,NUM_DATA_BLOCKS:o,MAGIC_ENCODING:s}=n["default"],u="SC",l=0,f=4,d=64,h="shift-jis";function A(e,t){const r=c*t;return e.slice(r,r+c)}function y(){return i.Z.getFilledArrayBuffer(c,0)}function B(e){return e.replace(/[\uff01-\uff5e]/g,(e=>String.fromCharCode(e.charCodeAt(0)-65248))).replace(/\u3000/g," ")}class w{static checkMagic(e){i.Z.checkMagic(e,l,u,s)}static readSaveBlocks(e,t){const r=new TextDecoder(h),n=e.dataBlockNumbers.map((e=>A(t,e)));i.Z.checkMagic(n[0],l,u,s);const a=B(i.Z.trimNull(r.decode(n[0].slice(f,f+d)))),c=i.Z.concatArrayBuffers(n);if(c.byteLength!==e.rawDataSize)throw new Error(`Save file appears to be corrupted: expected file ${a} to be ${e.rawDataSize} bytes, but was actually ${c.byteLength} bytes`);return{...e,description:a,rawData:c}}static createSaveBlocks(e){const t=[];e.forEach((e=>{const r=e.rawData.byteLength/c;for(let n=0;n<r;n+=1)t.push(e.rawData.slice(n*c,(n+1)*c))}));while(t.length<o)t.push(y());return t}}const{BLOCK_SIZE:D,NUM_DATA_BLOCKS:_,NUM_TOTAL_BLOCKS:S}=n["default"];function g(e){if(w.checkMagic(e.rawData),e.rawData.byteLength<=0)throw new Error(`File ${e.filename} does not contain any data`);if(e.rawData.byteLength%D!==0)throw new Error(`File ${e.filename} size must be a multiple of ${D} bytes`)}class E{static encodeFilename(e,t){return a.Z.encodeFilename(e,t)}static createFromPs1MemcardData(e){return new E(e)}static createFromSaveFiles(e){e.forEach((e=>g(e)));const t=e.reduce(((e,t)=>e+t.rawData.byteLength),0);if(t>_*D)throw new Error(`Total size of files is ${t} bytes (${t/D} blocks) but max size is ${_*D} bytes (${_} blocks)`);const r=a.Z.createHeaderBlock(e),n=w.createSaveBlocks(e),c=i.Z.concatArrayBuffers([r,...n]);return new E(c)}constructor(e){this.arrayBuffer=e;const t=e.slice(0,D),r=e.slice(D,D*S),n=a.Z.readDirectoryBlock(t);this.saveFiles=n.map((e=>w.readSaveBlocks(e,r)))}getDirectoryFrame(e){const t=this.arrayBuffer.slice(0,D);return a.Z.getDirectoryFrame(t,e)}getSaveFiles(){return this.saveFiles}getArrayBuffer(){return this.arrayBuffer}}}}]);